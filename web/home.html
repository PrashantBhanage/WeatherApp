<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Weather Dashboard</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body class="app-body">

<header class="top-nav">
    <div class="top-nav-left">
        <div class="nav-logo-circle">
            <img src="/images/logo.png" alt="Logo">
        </div>
        <div class="nav-titles">
            <div class="nav-app-name">AQI</div>
            <div class="nav-app-subtitle">Hi, {{USERNAME}}</div>
        </div>
    </div>

    <nav class="top-nav-right">
        <div class="nav-links">
    <a href="/home" class="nav-link {{ACTIVE_HOME}}">Dashboard</a>

    

    {{PROFILE_LINK}}
    <a href="/blogs" class="nav-link {{ACTIVE_INFO}}">Blogs</a>
    {{AUTH_LINK}}

    <a href="/rankings" class="nav-link {{ACTIVE_RANKINGS}}">Rankings</a>

    <a href="/about" class="nav-link {{ACTIVE_ABOUT}}">About Us</a>


</div>

    </nav>
</header>

<main class="app-main">

    <section class="image-card">
        <img src="/images/Nature.png" alt="Weather illustration">
    </section>

    <section class="hero-card">
        <div class="hero-text">
            <h1>Welcome back!</h1>
            <p>Check the weather and air quality in your favourite cities.</p>
            <div class="hero-tags">
                <span class="hero-tag">Real-time Data</span>
                <span class="hero-tag">Air Quality Index</span>
                <span class="hero-tag">Detailed Forecasts</span>
            </div>
        </div>
    </section>
   <section class="card weather-card">

  <div class="weather-left">
    <h2>{{CITY_NAME}} Weather Conditions</h2>
    <p class="muted">Current Temperature Level</p>

    <div class="temp-row">
      <span class="temp">{{TEMP_C}}</span>
      <div class="weather-info">
        <div>{{WEATHER_ICON}} {{CONDITION}}</div>
        <div>Feels Like {{FEELS_LIKE}}</div>
        <div>Humidity {{HUMIDITY}}</div>
      </div>
    </div>

    <span class="badge pleasant">{{WEATHER_BADGE}}</span>

    <p class="updated">
      Last Updated: {{LAST_UPDATED}}
    </p>
  </div>

  <div class="weather-center">
    <img src="/images/character.png" alt="Weather Character">
  </div>

  <div class="weather-right {{AQI_CLASS}}">

    <h4>Air Quality Index</h4>
    <div class="aqi-value">{{AQI}} <span>AQI</span></div>   

    <div class="aqi-meta">
      <span>PM2.5: {{PM25}}</span>
      <span>PM10: {{PM10}}</span>
    </div>

    <p class="aqi-status">Air quality is <b>{{AQI_STATUS}}</b></p>
  </div>

</section>



    <section class="card">
        <div class="card-header">
            <div class="card-title-wrap">
                <span class="card-icon"></span>
                <div>
                    <h2>Check Weather</h2>
                    <p class="card-subtitle">Search live weather and air quality for any city.</p>
                </div>
            </div>
        </div>

        <form action="/getWeather" method="post" class="search-form">
            <input type="text" name="city" class="search-input"
                   placeholder="Enter city nameâ€¦ (e.g. Pune)" required>
            <button type="submit" class="btn-primary search-btn">Search</button>
        </form>

        <p class="card-tip">Tip: Try typing <b>Mumbai</b>, <b>Pune</b>, or <b>Delhi</b>.</p>
    </section>

    <div class="grid-2">

        <section class="card">
            <div class="card-header">
                <div class="card-title-wrap">
                    <span class="card-icon"></span>
                    <div>
                        <h2>Saved Locations</h2>
                        <p class="card-subtitle">These cities are saved to your account in MySQL.</p>
                    </div>
                </div>
            </div>

            <ul class="location-list">
                {{SAVED_LOCATIONS}}
            </ul>

            <form action="/saveLocation" method="post" class="saved-form">
                <input type="text" name="city" class="saved-input"
                       placeholder="Add city (e.g. Pune)" required>
                <button type="submit" class="btn-secondary">Save</button>
            </form>
        </section>

        <section class="card history-card">
            <div class="card-header-row">
                <div class="card-header-left">
                    
                    <div>
                        <h2 class="card-title">Recent Searches</h2>
                        <p class="card-subtitle">Your last few live weather checks.</p>
                    </div>
                </div>
            </div>

            <div class="history-scroll">
                <ul class="history-list">
                    {{WEATHER_HISTORY}}
                </ul>
            </div>
        </section>

    </div>

</main>
<script>
  setInterval(() => {
    window.location.reload();
  }, 300000); // refresh every 5 minutes
</script>

</body>
</html>
